<!DOCTYPE html>
<html lang="vi">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Revenantskr - Phase Shift UI</title>
	<style>
		/* --- C·∫§U H√åNH C∆† B·∫¢N --- */
		body {
			margin: 0;
			font-family: Arial, Sans-serif, monospace;
			background: #050505;
			color: #e0e0e0;
			overflow-x: hidden;
		}
		
		/* --- LAYOUT CONTAINER --- */
		.interface-wrapper {
			position: relative;
			width: 100%;
			background: radial-gradient(circle at center, #111 0%, #000 100%);
            /* üî• S·ª¨A: Th√™m chi·ªÅu cao m·∫∑c ƒë·ªãnh v√† transition */
            height: 140px; 
            transition: height 0.6s cubic-bezier(0.22, 1, 0.36, 1);
		}

        /* üî• M·ªöI: Thu nh·ªè Wrapper c√≤n 60px khi ·ªü Home/General (chi·ªÅu cao NAV) */
        body.mode-home .interface-wrapper,
        body.mode-general .interface-wrapper {
            height: 60px; 
        }
		
		/* --- HEADER (80px) --- */
		header {
		    height: 80px;
		    display: flex;
		    align-items: center;
		    justify-content: center;
		    background: rgba(5, 5, 5, 0.7); 
		    border-bottom: 1px solid transparent; 
		    position: relative;
		    z-index: 2;
		    backdrop-filter: blur(5px); 
		    transition: transform 0.6s cubic-bezier(0.22, 1, 0.36, 1),
		        filter 0.6s ease,
		        opacity 0.6s ease;
		}

		
		.logo {
			font-size: 36px;
			font-weight: 900;
			letter-spacing: 4px;
			color: #00BBFF;
			text-shadow: 0 0 15px rgba(0, 187, 255, 0.6);
			user-select: none;
			transition: transform 0.6s cubic-bezier(0.22, 1, 0.36, 1);
		}
		
		/* --- NAV (CLASSLIST - 60px) --- */
		nav {
			height: 60px;
			display: flex;
			align-items: center;
			justify-content: center;
			gap: 50px; 
			background: transparent; 
			position: relative; 
			z-index: 10;
			border-bottom: 1px solid #222;
			
			transition: transform 0.6s cubic-bezier(0.22, 1, 0.36, 1),
				filter 0.6s ease;
		}
		
		/* --- THANH TR∆Ø·ª¢T (SLIDER) EFFECT --- */
		.tab-slider {
			position: absolute;
			height: 100%; 
			top: 0;
			left: 0;
			z-index: 1; 
			pointer-events: none; 
			
			/* M√ÄU VI·ªÄN v√† THI·∫æT L·∫¨P BAN ƒê·∫¶U */
			border-left: 2px solid #00BBFF;
			border-right: 2px solid #00BBFF;
			background: transparent; 

			/* Hi·ªáu ·ª©ng tr∆∞·ª£t */
			transition: width 0.3s cubic-bezier(0.22, 1, 0.36, 1), 
						transform 0.3s cubic-bezier(0.22, 1, 0.36, 1);
		}

		nav a {
			position: relative; 
            z-index: 2; /* S·ª≠a l·ªói: ƒê·∫£m b·∫£o tab hi·ªÉn th·ªã tr√™n slider */
			text-decoration: none;
			color: #888;
			font-size: 14px;
			font-weight: bold;
			cursor: pointer;
			text-transform: uppercase;
			letter-spacing: 2px;
			transition: 0.3s;
			padding: 10px 20px; 
			border: 1px solid transparent;
		}
		
		/* Thay ƒë·ªïi ch·ªâ √°p d·ª•ng cho ch·ªØ (kh√¥ng √°p d·ª•ng border) */
		nav a:hover,
		nav a.active-link {
			color: #fff;
			text-shadow: 0 0 5px rgba(0, 187, 255, 0.5);
			/* ƒê·∫£m b·∫£o kh√¥ng c√≥ vi·ªÅn v√† n·ªÅn t·ª´ code c≈© */
			border: none !important;
			background: transparent !important;
			box-shadow: none !important;
		}
		
		/* --- CONTENT AREA --- */
		.content-area {
            /* üî• S·ª¨A: ƒê·∫∑t padding top b·∫±ng chi·ªÅu cao full c·ªßa Wrapper */
			padding-top: 140px; 
			padding-bottom: 60px;
			padding-left: 20px;
			padding-right: 20px;
			text-align: center;
			min-height: 400px;
            /* Th√™m transition cho padding ƒë·ªÉ ƒë·ªìng b·ªô */
            transition: padding-top 0.6s cubic-bezier(0.22, 1, 0.36, 1);
		}

        /* üî• M·ªöI: Gi·∫£m padding top khi ·ªü HOME/GENERAL (chi·ªÅu cao NAV 60px) */
        body.mode-home .content-area,
        body.mode-general .content-area {
            padding-top: 60px;
        }
		
		.tab-content {
			display: none;
			opacity: 0;
			transform: translateY(40px);
			animation: fadeInContent 0.8s forwards;
		}
		
		.tab-content.active {
			display: block;
		}
		
		@keyframes fadeInContent {
			to {
				opacity: 1;
				transform: translateY(0);
			}
		}
		
		/* --- TR·∫†NG TH√ÅI V·ªä TR√ç (CORE LOGIC) --- */
		
		/* 1. TR·∫†NG TH√ÅI HOME (Header d∆∞·ªõi Nav) */
		body.mode-home header {
            /* Header (80px) d·ªãch chuy·ªÉn xu·ªëng 60px ƒë·ªÉ n·∫±m d∆∞·ªõi Nav (60px) */
			transform: translateY(60px); 
			border-bottom: none;
			z-index: 1;
		}
		
		body.mode-home nav {
            /* Nav (60px) d·ªãch chuy·ªÉn l√™n 80px ƒë·ªÉ n·∫±m ·ªü v·ªã tr√≠ 0 */
			transform: translateY(-80px); 
			border-bottom: 1px solid #00BBFF;
		}
		
		/* 2. TR·∫†NG TH√ÅI INTERNAL (Header tr√™n Nav) */
		body.mode-internal header {
            /* C·∫£ hai n·∫±m ·ªü v·ªã tr√≠ m·∫∑c ƒë·ªãnh 0 */
			transform: translateY(0);
			z-index: 100;
			box-shadow: 0 5px 20px rgba(0, 0, 0, 0.8);
		}
		
		body.mode-internal nav {
			transform: translateY(0);
			z-index: 90;
		}
		
		/* 3. TR·∫†NG TH√ÅI GENERAL (Header th·∫•p h∆°n Home, thu nh·ªè) */
		body.mode-general header {
            /* Header (80px) d·ªãch chuy·ªÉn xu·ªëng 140px (xu·ªëng d∆∞·ªõi c√πng) */
			transform: translateY(140px);
			border-bottom: none;
			z-index: 1;
		}
		
		body.mode-general header .logo {
			transform: scale(0.5);
		}
		
		body.mode-general nav {
            /* Nav (60px) d·ªãch chuy·ªÉn l√™n 80px ƒë·ªÉ n·∫±m ·ªü v·ªã tr√≠ 0 */
			transform: translateY(-80px);
			border-bottom: 1px solid #222;
		}
		
		
		/* --- HI·ªÜU ·ª®NG XUY√äN TH·∫§U (BLUR PASS) --- */
		.phasing-through header,
		.phasing-through nav {
			filter: blur(6px);
			opacity: 0.7;
			pointer-events: none;
		}
		
		/* Input Styling */
		input {
			background: #111;
			border: 1px solid #333;
			color: #00BBFF;
			padding: 10px;
			font-family: inherit;
			margin-top: 15px;
		}
		
		button {
			background: #00BBFF;
			color: #000;
			border: none;
			padding: 10px 20px;
			font-weight: bold;
			cursor: pointer;
		}

		
		/* ------------------------------------------------------------------- */
		/* ------------------------------------------------------------------- */
		/* üì± T·ªêI ∆ØU CHO ƒêI·ªÜN THO·∫†I (Mobile Override) */
		/* ·ª®ng d·ª•ng khi chi·ªÅu r·ªông m√†n h√¨nh <= 600px */
		@media screen and (max-width: 600px) {
			
			/* ƒêi·ªÅu ch·ªânh Font v√† Header */
			header {
				height: 60px;
			}
            
            /* üî• MOBILE M·ªöI: Chi·ªÅu cao m·∫∑c ƒë·ªãnh l√† 110px (60px Header + 50px Nav) */
            .interface-wrapper {
                height: 110px;
            }

            /* üî• MOBILE M·ªöI: Thu nh·ªè Wrapper c√≤n 50px khi ·ªü Home/General (chi·ªÅu cao NAV) */
            body.mode-home .interface-wrapper,
            body.mode-general .interface-wrapper {
                height: 50px; 
            }
			
			.logo {
				font-size: 24px;
				letter-spacing: 2px;
			}

			/* ƒêi·ªÅu ch·ªânh NAV (ClassList) */
			nav {
				height: 50px;
				gap: 20px; /* ƒê√É CH·ªàNH: Mobile gap t·ª´ 10px l√™n 20px */
				padding: 0 5px;
				overflow-x: auto; 
				justify-content: flex-start; 
			}
			
			nav a {
				font-size: 12px;
				padding: 8px 10px; 
				letter-spacing: 1px;
				white-space: nowrap; 
			}
			
			/* ƒêi·ªÅu ch·ªânh N·ªôi dung */
			.content-area {
                /* MOBILE: Padding top m·∫∑c ƒë·ªãnh l√† 110px */
				padding-top: 110px;
				padding-bottom: 30px;
				padding-left: 10px;
				padding-right: 10px;
			}
            
            /* MOBILE: Gi·∫£m padding top khi ·ªü HOME/GENERAL (chi·ªÅu cao NAV 50px) */
            body.mode-home .content-area,
            body.mode-general .content-area {
                padding-top: 50px;
            }
			
			/* T·ªëi ∆∞u Input/Button */
			input, button {
				width: 100%; 
				box-sizing: border-box; 
				margin-top: 10px;
			}

			button {
				margin-left: 0; 
			}
			
			/* --- X·ª¨ L√ù L·∫†I V·ªä TR√ç CHO T·ª™NG MODE (Quan tr·ªçng!) --- */
			/* D·ª±a tr√™n Header 60px v√† Nav 50px */

			/* 1. TR·∫†NG TH√ÅI HOME (Header d∆∞·ªõi Nav) */
			body.mode-home header {
				transform: translateY(50px); 
			}
			
			body.mode-home nav {
				transform: translateY(-60px); 
			}
			
			/* 3. TR·∫†NG TH√ÅI GENERAL (Header th·∫•p h∆°n Home, thu nh·ªè) */
			body.mode-general header {
				transform: translateY(110px); 
			}
			
			body.mode-general nav {
				transform: translateY(-60px); 
			}
		}
	</style>
</head>

<body class="mode-home">
	
	<div class="interface-wrapper">
		<header id="mainHeader">
			<div class="logo">REVENANTSKR</div>
		</header>
		
		<nav id="mainNav">
			<div class="tab-slider"></div> 
			<a onclick="switchTab('home')" id="btn-home" class="active-link">HOME</a>
			<a onclick="switchTab('general')" id="btn-general">GENERAL</a>
			<a onclick="switchTab('about')" id="btn-about">ABOUT</a>
			<a onclick="switchTab('id')" id="btn-id">ID ACCESS</a>
		</nav>
	</div>
	
	<div class="content-area">
		<div id="home" class="tab-content active">
			<h1>SYSTEM STANDBY</h1>
			<p>Header hi·ªán ƒëang n·∫±m b√™n d∆∞·ªõi ClassList.</p>
			<p style="color: #666; margin-top: 20px;">[ Waiting for command... ]</p>
		</div>
		
		<div id="general" class="tab-content">
			<h2 style="color: #FF00FF">GENERAL SCREEN</h2>
			<p>Header n·∫±m th·∫•p nh·∫•t v√† ƒë√£ ƒë∆∞·ª£c thu nh·ªè 50%.</p>
			<p>Kh√¥ng c√≥ hi·ªáu ·ª©ng Blur khi chuy·ªÉn t·ª´ HOME.</p>
		</div>
		
		<div id="about" class="tab-content">
			<h2 style="color: #00BBFF">ABOUT SYSTEM</h2>
			<p>Header ƒë√£ di chuy·ªÉn xuy√™n qua ClassList v√† hi·ªán n·∫±m ph√≠a tr√™n.</p>
			<p>Giao th·ª©c b·∫£o m·∫≠t c·∫•p 4.</p>
		</div>
		
		<div id="id" class="tab-content">
			<h2>SECURITY CHECK</h2>
			<p>Nh·∫≠p m√£ ƒë·ªãnh danh ƒë·ªÉ truy c·∫≠p Core.</p>
			<div style="margin-top: 15px;">
				<input type="text" id="idInput" placeholder="ENTER ID CODE" onkeydown="if(event.key === 'Enter') checkID()" />
				<button onclick="checkID()">VERIFY</button>
			</div>
		</div>
		
		<script>
			// Bi·∫øn l∆∞u tr·∫°ng th√°i hi·ªán t·∫°i (c√≥ th·ªÉ l√† 'home', 'internal', ho·∫∑c 'general')
			let currentMode = 'home';
			
			// ---------------------------------------------
			// H√†m m·ªõi: C·∫≠p nh·∫≠t v·ªã tr√≠ thanh tr∆∞·ª£t
			// ---------------------------------------------
			function updateSliderPosition(activeButtonId) {
				const slider = document.querySelector('.tab-slider');
				const activeButton = document.getElementById(activeButtonId);
				const nav = document.getElementById('mainNav');

				if (!activeButton || !slider || !nav) return;

				// 1. T√≠nh to√°n v·ªã tr√≠ v√† k√≠ch th∆∞·ªõc
				const navRect = nav.getBoundingClientRect();
				const buttonRect = activeButton.getBoundingClientRect();

				// 2. Thi·∫øt l·∫≠p k√≠ch th∆∞·ªõc v√† v·ªã tr√≠ (d√πng transform X ƒë·ªÉ tr∆∞·ª£t)
				slider.style.width = `${buttonRect.width}px`;
				
				// T√≠nh to√°n kho·∫£ng c√°ch d·ªãch chuy·ªÉn: 
				// V·ªã tr√≠ n√∫t (tr√°i) tr·ª´ ƒëi v·ªã tr√≠ Nav (tr√°i)
				const translateX = buttonRect.left - navRect.left; 
				
				slider.style.transform = `translateX(${translateX}px)`;
			}
			
			
			function switchTab(tabName) {
				// 1. C·∫≠p nh·∫≠t giao di·ªán n√∫t b·∫•m (Active state)
				document.querySelectorAll('nav a').forEach(a => a.classList.remove('active-link'));
				const targetButtonId = `btn-${tabName}`;
				document.getElementById(targetButtonId).classList.add('active-link');
				
				// K√™u g·ªçi h√†m tr∆∞·ª£t sau khi active-link ƒë∆∞·ª£c g√°n
				updateSliderPosition(targetButtonId); 
				
				// 2. X·ª≠ l√Ω Logic v·ªã tr√≠ Header/Nav v√† Blur
				const targetMode = (tabName === 'home') ? 'home' : (tabName === 'general' ? 'general' : 'internal');
				
				let blurRequired = false;
				
				// S·ª≠a logic Blur: Blur ph·∫£i ƒë∆∞·ª£c k√≠ch ho·∫°t khi chuy·ªÉn ƒë·ªïi gi·ªØa Internal v√† b·∫•t k·ª≥ mode n√†o kh√°c.
				if (currentMode === 'internal' || targetMode === 'internal') {
					// Blur khi r·ªùi kh·ªèi ho·∫∑c ƒëi v√†o tr·∫°ng th√°i Internal (xuy√™n qua Nav)
					blurRequired = true;
				}
				
				// Lo·∫°i tr·ª´ tr∆∞·ªùng h·ª£p chuy·ªÉn t·ª´ Home sang General (kh√¥ng xuy√™n)
				if (currentMode === 'home' && targetMode === 'general') {
					blurRequired = false;
				}
				// Lo·∫°i tr·ª´ tr∆∞·ªùng h·ª£p chuy·ªÉn t·ª´ General sang Home (kh√¥ng xuy√™n)
				if (currentMode === 'general' && targetMode === 'home') {
					blurRequired = false;
				}
				
				// Chuy·ªÉn ƒë·ªïi tr·∫°ng th√°i (lu√¥n c·∫ßn chuy·ªÉn ƒë·ªïi, tr·ª´ khi ·ªü c√πng m·ªôt mode)
				if (currentMode !== targetMode) {
					triggerPhaseShift(targetMode, blurRequired);
				}
				
				// 3. Chuy·ªÉn ƒë·ªïi n·ªôi dung (Content)
				document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
				document.getElementById(tabName).classList.add('active');
			}
			
			function triggerPhaseShift(targetMode, blurRequired) {
				const body = document.body;
				const logo = document.querySelector('.logo');
				
				// A. K√≠ch ho·∫°t hi·ªáu ·ª©ng "M·ªù do t·ªëc ƒë·ªô" n·∫øu c·∫ßn
				if (blurRequired) {
					body.classList.add('phasing-through');
				}
				
				// B. Thi·∫øt l·∫≠p tr·∫°ng th√°i ƒë√≠ch (mode CSS class)
				requestAnimationFrame(() => {
					// X√≥a t·∫•t c·∫£ c√°c mode c≈©
					body.classList.remove('mode-home', 'mode-internal', 'mode-general');
					
					// G√°n mode m·ªõi
					if (targetMode === 'home') {
						body.classList.add('mode-home');
						logo.style.transform = 'scale(1)'; // ƒê·∫£m b·∫£o logo full size
					} else if (targetMode === 'general') {
						body.classList.add('mode-general');
						logo.style.transform = 'scale(0.5)'; // Thu nh·ªè logo
					} else { // internal (About, ID)
						body.classList.add('mode-internal');
						logo.style.transform = 'scale(1)'; // ƒê·∫£m b·∫£o logo full size
					}
					currentMode = targetMode;
				});
				
				// C. T·∫Øt hi·ªáu ·ª©ng m·ªù (ch·ªâ ch·∫°y n·∫øu blurRequired l√† true)
				if (blurRequired) {
					setTimeout(() => {
						body.classList.remove('phasing-through');
					}, 180); // 180ms l√† m·ªôt gi√° tr·ªã th·ª≠ nghi·ªám t·ªët, m·∫∑c d√π transition l√† 0.6s
				}
			}
			
			function checkID() {
				const id = document.getElementById("idInput").value.trim().toUpperCase();
				
				if (!id) {	
					alert("C·∫¢NH B√ÅO: Ch∆∞a nh·∫≠p ID.");
					return;
				}
				
				// Danh s√°ch ID ƒë∆∞·ª£c c·∫•p quy·ªÅn
				const routes = {
					"REVEN-01": "leader.html",
					"REVEN-02": "officer.html",
					"REVEN-03": "member.html",
				};
				
				if (routes[id]) {
					// window.location.href = routes[id]; // B·ªè comment n·∫øu mu·ªën chuy·ªÉn trang th·∫≠t
					alert(`ACCESS GRANTED: ${id}. Chuy·ªÉn h∆∞·ªõng ƒë√£ b·ªã kh√≥a trong m√£.`);
				} else {
					alert("ACCESS DENIED: ID kh√¥ng t·ªìn t·∫°i.");
					document.getElementById("idInput").value = "";
					document.getElementById("idInput").focus();
				}
			}

			// ---------------------------------------------
			// KH·ªûI T·∫†O V√Ä X·ª¨ L√ù KHI THAY ƒê·ªîI K√çCH TH∆Ø·ªöC M√ÄN H√åNH
			// ---------------------------------------------
			document.addEventListener('DOMContentLoaded', (event) => {
				// 1. G·ªçi h√†m tr∆∞·ª£t cho tab HOME m·∫∑c ƒë·ªãnh khi t·∫£i trang
				updateSliderPosition('btn-home'); 
			});

			// 2. C·∫≠p nh·∫≠t v·ªã tr√≠ thanh tr∆∞·ª£t khi k√≠ch th∆∞·ªõc m√†n h√¨nh thay ƒë·ªïi (Responsive)
			window.addEventListener('resize', () => {
				// L·∫•y ID c·ªßa n√∫t ƒëang active
				const activeBtn = document.querySelector('nav a.active-link');
				if (activeBtn) {
					updateSliderPosition(activeBtn.id);
				}
			});
		</script>
		
</body>

</html>
