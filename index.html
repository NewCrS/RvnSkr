<!DOCTYPE html>
<html lang="vi">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Revenantskr - Phase Shift UI</title>
	<style>
		/* --- CẤU HÌNH CƠ BẢN --- */
		body {
			margin: 0;
			font-family: Arial, Sans-serif, monospace;
			background: #050505;
			color: #e0e0e0;
			overflow-x: hidden;
		}
		
		/* --- LAYOUT CONTAINER --- */
		.interface-wrapper {
			position: relative;
			width: 100%;
			background: radial-gradient(circle at center, #111 0%, #000 100%);
		}
		
		/* --- HEADER (80px) --- */
		header {
			height: 80px;
			display: flex;
			align-items: center;
			justify-content: center;
			background: rgba(10, 10, 10, 0.9);
			border-bottom: 1px solid #333;
			position: relative;
			z-index: 2;
			
			/* Animation settings */
			transition: transform 0.6s cubic-bezier(0.22, 1, 0.36, 1),
				filter 0.6s ease,
				opacity 0.6s ease;
		}
		
		.logo {
			font-size: 36px;
			font-weight: 900;
			letter-spacing: 4px;
			color: #00BBFF;
			text-shadow: 0 0 15px rgba(0, 187, 255, 0.6);
			user-select: none;
			transition: transform 0.6s cubic-bezier(0.22, 1, 0.36, 1);
		}
		
		/* --- NAV (CLASSLIST - 60px) --- */
		nav {
			height: 60px;
			display: flex;
			align-items: center;
			justify-content: center;
			gap: 40px;
			background: rgba(0, 0, 0, 0.8);
			position: relative;
			z-index: 10;
			border-bottom: 1px solid #222;
			
			transition: transform 0.6s cubic-bezier(0.22, 1, 0.36, 1),
				filter 0.6s ease;
		}
		
		nav a {
			text-decoration: none;
			color: #888;
			font-size: 14px;
			font-weight: bold;
			cursor: pointer;
			text-transform: uppercase;
			letter-spacing: 2px;
			transition: 0.3s;
			padding: 10px 20px;
			border: 1px solid transparent;
		}
		
		nav a:hover,
		nav a.active-link {
			color: #fff;
			border: 1px solid #00BBFF;
			background: rgba(0, 187, 255, 0.1);
			box-shadow: 0 0 10px rgba(0, 187, 255, 0.2);
		}
		
		/* --- CONTENT AREA --- */
		.content-area {
			padding: 60px 20px;
			text-align: center;
			min-height: 400px;
		}
		
		.tab-content {
			display: none;
			opacity: 0;
			transform: translateY(20px);
			animation: fadeInContent 0.8s forwards;
		}
		
		.tab-content.active {
			display: block;
		}
		
		@keyframes fadeInContent {
			to {
				opacity: 1;
				transform: translateY(0);
			}
		}
		
		/* --- TRẠNG THÁI VỊ TRÍ (CORE LOGIC) --- */
		
		/* 1. TRẠNG THÁI HOME (Header dưới Nav) */
		body.mode-home header {
			transform: translateY(60px); /* Đẩy Header xuống bằng chiều cao Nav */
			border-bottom: none;
			z-index: 1;
		}
		
		body.mode-home nav {
			transform: translateY(-80px); /* Kéo Nav lên bằng chiều cao Header */
			border-bottom: 1px solid #00BBFF;
		}
		
		/* 2. TRẠNG THÁI INTERNAL (Header trên Nav) */
		body.mode-internal header {
			transform: translateY(0);
			z-index: 100;
			box-shadow: 0 5px 20px rgba(0, 0, 0, 0.8);
		}
		
		body.mode-internal nav {
			transform: translateY(0);
			z-index: 90;
		}
		
		/* 3. TRẠNG THÁI GENERAL (Header thấp hơn Home, thu nhỏ) */
		body.mode-general header {
			/* Vị trí Home (60px) + 80px đi xuống = 140px */
			transform: translateY(140px);
			border-bottom: none;
			z-index: 1;
		}
		
		body.mode-general header .logo {
			transform: scale(0.5);
			/* Thu nhỏ 50% */
		}
		
		body.mode-general nav {
			transform: translateY(-80px);
			/* Vẫn ở vị trí Nav của Home */
			border-bottom: 1px solid #222;
		}
		
		
		/* --- HIỆU ỨNG XUYÊN THẤU (BLUR PASS) --- */
		.phasing-through header,
		.phasing-through nav {
			filter: blur(6px);
			opacity: 0.7;
			pointer-events: none;
		}
		
		/* Input Styling */
		input {
			background: #111;
			border: 1px solid #333;
			color: #00BBFF;
			padding: 10px;
			font-family: inherit;
			margin-top: 15px;
		}
		
		button {
			background: #00BBFF;
			color: #000;
			border: none;
			padding: 10px 20px;
			font-weight: bold;
			cursor: pointer;
		}
	</style>
</head>

<body class="mode-home">
	
	<div class="interface-wrapper">
		<header id="mainHeader">
			<div class="logo">REVENANTSKR</div>
		</header>
		
		<nav id="mainNav">
			<a onclick="switchTab('home')" id="btn-home" class="active-link">HOME</a>
			<a onclick="switchTab('general')" id="btn-general">GENERAL</a>
			<a onclick="switchTab('about')" id="btn-about">ABOUT</a>
			<a onclick="switchTab('id')" id="btn-id">ID ACCESS</a>
		</nav>
	</div>
	
	<div class="content-area">
		<div id="home" class="tab-content active">
			<h1>SYSTEM STANDBY</h1>
			<p>Header hiện đang nằm bên dưới ClassList.</p>
			<p style="color: #666; margin-top: 20px;">[ Waiting for command... ]</p>
		</div>
		
		<div id="general" class="tab-content">
			<h2 style="color: #FF00FF">GENERAL SCREEN</h2>
			<p>Header nằm thấp nhất và đã được thu nhỏ 50%.</p>
			<p>Không có hiệu ứng Blur khi chuyển từ HOME.</p>
		</div>
		
		<div id="about" class="tab-content">
			<h2 style="color: #00BBFF">ABOUT SYSTEM</h2>
			<p>Header đã di chuyển xuyên qua ClassList và hiện nằm phía trên.</p>
			<p>Giao thức bảo mật cấp 4.</p>
		</div>
		
		<div id="id" class="tab-content">
			<h2>SECURITY CHECK</h2>
			<p>Nhập mã định danh để truy cập Core.</p>
			<div style="margin-top: 15px;">
				<input type="text" id="idInput" placeholder="ENTER ID CODE" onkeydown="if(event.key === 'Enter') checkID()" />
				<button onclick="checkID()">VERIFY</button>
			</div>
		</div>
		
		<script>
			// Biến lưu trạng thái hiện tại (có thể là 'home', 'internal', hoặc 'general')
			let currentMode = 'home';
			
			function switchTab(tabName) {
				// 1. Cập nhật giao diện nút bấm (Active state)
				document.querySelectorAll('nav a').forEach(a => a.classList.remove('active-link'));
				document.getElementById(`btn-${tabName}`).classList.add('active-link');
				
				// 2. Xử lý Logic vị trí Header/Nav và Blur
				const targetMode = (tabName === 'home') ? 'home' : (tabName === 'general' ? 'general' : 'internal');
				
				let blurRequired = false;
				
				// Sửa logic Blur: Blur phải được kích hoạt khi chuyển đổi giữa Internal và bất kỳ mode nào khác.
				if (currentMode === 'internal' || targetMode === 'internal') {
					// Blur khi rời khỏi hoặc đi vào trạng thái Internal (xuyên qua Nav)
					blurRequired = true;
				}
				
				// Loại trừ trường hợp chuyển từ Home sang General (không xuyên)
				if (currentMode === 'home' && targetMode === 'general') {
					blurRequired = false;
				}
				// Loại trừ trường hợp chuyển từ General sang Home (không xuyên)
				if (currentMode === 'general' && targetMode === 'home') {
					blurRequired = false;
				}
				
				// Chuyển đổi trạng thái (luôn cần chuyển đổi, trừ khi ở cùng một mode)
				if (currentMode !== targetMode) {
					triggerPhaseShift(targetMode, blurRequired);
				}
				
				// 3. Chuyển đổi nội dung (Content)
				document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
				document.getElementById(tabName).classList.add('active');
			}
			
			function triggerPhaseShift(targetMode, blurRequired) {
				const body = document.body;
				const logo = document.querySelector('.logo');
				
				// A. Kích hoạt hiệu ứng "Mờ do tốc độ" nếu cần
				if (blurRequired) {
					body.classList.add('phasing-through');
				}
				
				// B. Thiết lập trạng thái đích (mode CSS class)
				requestAnimationFrame(() => {
					// Xóa tất cả các mode cũ
					body.classList.remove('mode-home', 'mode-internal', 'mode-general');
					
					// Gán mode mới
					if (targetMode === 'home') {
						body.classList.add('mode-home');
						logo.style.transform = 'scale(1)'; // Đảm bảo logo full size
					} else if (targetMode === 'general') {
						body.classList.add('mode-general');
						logo.style.transform = 'scale(0.5)'; // Thu nhỏ logo
					} else { // internal (About, ID)
						body.classList.add('mode-internal');
						logo.style.transform = 'scale(1)'; // Đảm bảo logo full size
					}
					currentMode = targetMode;
				});
				
				// C. Tắt hiệu ứng mờ (chỉ chạy nếu blurRequired là true)
				if (blurRequired) {
					setTimeout(() => {
						body.classList.remove('phasing-through');
					}, 180); // 180ms là một giá trị thử nghiệm tốt, mặc dù transition là 0.6s
				}
			}
			
			function checkID() {
				const id = document.getElementById("idInput").value.trim().toUpperCase();
				
				if (!id) {	
					alert("CẢNH BÁO: Chưa nhập ID.");
					return;
				}
				
				// Danh sách ID được cấp quyền
				const routes = {
					"REVEN-01": "leader.html",
					"REVEN-02": "officer.html",
					"REVEN-03": "member.html",
				};
				
				if (routes[id]) {
					// window.location.href = routes[id]; // Bỏ comment nếu muốn chuyển trang thật
					alert(`ACCESS GRANTED: ${id}. Chuyển hướng đã bị khóa trong mã.`);
				} else {
					alert("ACCESS DENIED: ID không tồn tại.");
					document.getElementById("idInput").value = "";
					document.getElementById("idInput").focus();
				}
			}
		</script>
		
</body>

</html>