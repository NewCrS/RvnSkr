<!DOCTYPE html>
<html lang="vi">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Revenantskr - Phase Shift UI</title>
	<style>
		body {
			margin: 0;
			font-family: Arial, Sans-serif, monospace;
			background: #050505;
			color: #e0e0e0;
			overflow-x: hidden;
		}
		
		.interface-wrapper {
			position: relative;
			width: 100%;
			background: radial-gradient(circle at center, #111 0%, #000 100%);
            height: 140px; 
            transition: height 0.6s cubic-bezier(0.22, 1, 0.36, 1);
		}

        body.mode-home .interface-wrapper,
        body.mode-general .interface-wrapper {
            height: 60px; 
        }
		
		header {
		    height: 80px;
		    display: flex;
		    align-items: center;
		    justify-content: center;
		    background: rgba(5, 5, 5, 0.7); 
		    border-bottom: 1px solid transparent; 
		    position: relative;
		    z-index: 2;
		    backdrop-filter: blur(5px); 
		    transition: transform 0.6s cubic-bezier(0.22, 1, 0.36, 1),
		        filter 0.6s ease,
		        opacity 0.6s ease;
		}

		
		.logo {
			font-size: 36px;
			font-weight: 900;
			letter-spacing: 4px;
			color: #00BBFF;
			text-shadow: 0 0 15px rgba(0, 187, 255, 0.6);
			user-select: none;
			transition: transform 0.6s cubic-bezier(0.22, 1, 0.36, 1);
			transform: scale(1.2);
		}
		
		nav {
			height: 60px;
			display: flex;
			align-items: center;
			justify-content: center;
			gap: 50px; 
			background: transparent; 
			position: relative; 
			z-index: 10;
			border-bottom: 1px solid #222;
			
			transition: transform 0.6s cubic-bezier(0.22, 1, 0.36, 1),
				filter 0.6s ease;
		}
		
		.tab-slider {
			position: absolute;
			height: 100%; 
			top: 0;
			left: 0;
			z-index: 1; 
			pointer-events: none; 
			
			border-left: 2px solid #00BBFF;
			border-right: 2px solid #00BBFF;
			background: transparent; 

			transition: width 0.3s cubic-bezier(0.22, 1, 0.36, 1), 
						transform 0.3s cubic-bezier(0.22, 1, 0.36, 1);
		}

		nav a {
			position: relative; 
            z-index: 2;
			text-decoration: none;
			color: #888;
			font-size: 14px;
			font-weight: bold;
			cursor: pointer;
			text-transform: uppercase;
			letter-spacing: 2px;
			transition: 0.3s;
			padding: 10px 20px; 
			border: 1px solid transparent;
		}
		
		nav a:hover,
		nav a.active-link {
			color: #fff;
			text-shadow: 0 0 5px rgba(0, 187, 255, 0.5);
			border: none !important;
			background: transparent !important;
			box-shadow: none !important;
		}
		
		.content-area {
			padding-top: 140px; 
			padding-bottom: 60px;
			padding-left: 20px;
			padding-right: 20px;
			text-align: center;
			min-height: 400px;
            transition: padding-top 0.6s cubic-bezier(0.22, 1, 0.36, 1);
            position: relative; /* Th√™m position ƒë·ªÉ k√≠ch ho·∫°t z-index */
            z-index: 5; /* ƒê·∫∑t z-index cao h∆°n n·ªÅn (nh∆∞ng th·∫•p h∆°n Nav/Header) */
		}

        body.mode-home .content-area,
        body.mode-general .content-area {
            padding-top: 60px;
        }
		
		.tab-content {
			display: none;
			opacity: 0;
			transform: translateY(40px);
			animation: fadeInContent 0.8s forwards;
		}
		
		.tab-content.active {
			display: block;
		}
		
		@keyframes fadeInContent {
			to {
				opacity: 1;
				transform: translateY(0);
			}
		}
		
		body.mode-home header {
			transform: translateY(60px); 
			border-bottom: none;
			z-index: 1;
		}
		
		body.mode-home nav {
			transform: translateY(-80px); 
			border-bottom: 1px solid #00BBFF;
		}
		
		body.mode-internal header {
			transform: translateY(0);
			z-index: 100;
			box-shadow: 0 5px 20px rgba(0, 0, 0, 0.8);
		}
		
		body.mode-internal nav {
			transform: translateY(0);
			z-index: 90;
		}
		
		body.mode-general header {
			transform: translateY(140px);
			border-bottom: none;
			z-index: 1;
		}
		
		body.mode-general header .logo {
			transform: scale(0.5);
		}
		
		body.mode-general nav {
			transform: translateY(-80px);
			border-bottom: 1px solid #222;
		}
		
		
		.phasing-through header,
		.phasing-through nav {
			filter: blur(6px);
			opacity: 0.7;
			pointer-events: none;
		}
		
		input {
			background: #111;
			border: 1px solid #333;
			color: #00BBFF;
			padding: 10px;
			font-family: inherit;
			margin-top: 15px;
		}
		
		button {
			background: #00BBFF;
			color: #000;
			border: none;
			padding: 10px 20px;
			font-weight: bold;
			cursor: pointer;
		}

		
		@media screen and (max-width: 600px) {
			
			header {
				height: 60px;
			}
            
            .interface-wrapper {
                height: 110px;
            }

            body.mode-home .interface-wrapper,
            body.mode-general .interface-wrapper {
                height: 50px; 
            }
			
			.logo {
				font-size: 24px;
				letter-spacing: 2px;
			}

			nav {
				height: 50px;
				gap: 20px; 
				padding: 0 5px;
				overflow-x: auto; 
				justify-content: flex-start; 
			}
			
			nav a {
				font-size: 12px;
				padding: 8px 10px; 
				letter-spacing: 1px;
				white-space: nowrap; 
			}
			
			.content-area {
				padding-top: 110px;
				padding-bottom: 30px;
				padding-left: 10px;
				padding-right: 10px;
			}
            
            body.mode-home .content-area,
            body.mode-general .content-area {
                padding-top: 50px;
            }
			
			input, button {
				width: 100%; 
				box-sizing: border-box; 
				margin-top: 10px;
			}

			button {
				margin-left: 0; 
			}
			
			body.mode-home header {
				transform: translateY(50px); 
			}
			
			body.mode-home nav {
				transform: translateY(-60px); 
			}
			
			body.mode-general header {
				transform: translateY(110px); 
			}
			
			body.mode-general nav {
				transform: translateY(-60px); 
			}
		}
		
		/* ====== DUAL FRAME LAYOUT ====== */
		.dual-frame {
		    width: 100%;
		    display: flex;
		    justify-content: space-between;
		    gap: 5%; /* 10% kho·∫£ng c√°ch gi·ªØa 2 frame */
		    margin-top: 40px;
		}
		
		.frame-box {
		    width: 40%;   /* m·ªói frame 40% */
		    height: 300px;
		    border: 1px solid #00BBFF;
		    background: #000;
		}
		
		/* ====== M√ÄN H√åNH D·ªåC: 2 FRAME X·∫æP TR√äN ‚Äì D∆Ø·ªöI ====== */
		@media (orientation: portrait) {
		    .dual-frame {
		        flex-direction: column;
		        gap: 10%; /* v·∫´n gi·ªØ 10% c√°ch nhau theo chi·ªÅu d·ªçc */
		        align-items: center;
		    }
		
		    .frame-box {
		        width: 90%; /* t·ªïng 40 + 40 + 10 = 90, n√™n set 90% cho h·ª£p l√Ω */
		        height: 220px;
		    }
		}
		/* FRAME SYSTEM */
		.frame-wrapper {
		    display: flex;
		    width: 100%;
		    height: auto;
		    margin: 0;
		    padding: 0;
		    justify-content: center;
		    align-items: center;
		    gap: 10%;
		}
		
		.frame-box {
		    width:40%;
		    height: 300px;
		    background: #0a0a0a;
		    border: 1px solid #00bbff55;
		    backdrop-filter: blur(6px);
		    box-shadow: 0 0 20px #00bbff22;
		    animation-duration: 0.8s;
		    animation-fill-mode: both;
		    border-radius: 10px;
		}
		
		/* Hi·ªáu ·ª©ng tr∆∞·ª£t t·ª´ tr√°i */
		.slide-left {
		    animation-name: slideFromLeft;
		}
		
		/* Hi·ªáu ·ª©ng tr∆∞·ª£t t·ª´ ph·∫£i */
		.slide-right {
		    animation-name: slideFromRight;
		}
		
		@keyframes slideFromLeft {
		    from { transform: translateX(-80px); opacity: 0; }
		    to   { transform: translateX(0); opacity: 1; }
		}
		
		@keyframes slideFromRight {
		    from { transform: translateX(80px); opacity: 0; }
		    to   { transform: translateX(0); opacity: 1; }
		}
		
		/* N·∫øu m√†n h√¨nh d·ªçc ‚Üí 2 frame x·∫øp d·ªçc */
		@media (orientation: portrait) {
		    .frame-wrapper {
		        flex-direction: column;
		        gap: 10%;
		    }
		    .frame-box {
		        width: 80%;
		        height: 250px;
		    }
		}

        /* --- CSS CHO B·∫¢NG B√ç M·∫¨T (SECRET MODAL) --- */
        .secret-modal-overlay {
            /* Che ph·ªß to√†n m√†n h√¨nh */
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85); /* N·ªÅn m·ªù */
            backdrop-filter: blur(4px);
            z-index: 9999; /* ƒê·∫£m b·∫£o n√≥ lu√¥n n·∫±m tr√™n c√πng */
            display: none; /* M·∫∑c ƒë·ªãnh ·∫©n */
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .secret-modal-content {
            /* Khung ch·ª©a ·∫£nh/n·ªôi dung */
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 20px;
            background: #0d0d0d;
            border: 3px solid #00BBFF;
            box-shadow: 0 0 30px #00BBFF99;
            border-radius: 5px;
            max-width: 90%;
            max-height: 90%;
            overflow: hidden;
            text-align: center;
        }

        .secret-modal-content img {
            /* ƒê·ªãnh d·∫°ng ·∫£nh b√™n trong */
            max-width: 100%;
            max-height: 70vh; /* Gi·ªõi h·∫°n chi·ªÅu cao ƒë·ªÉ ph√π h·ª£p v·ªõi m√†n h√¨nh */
            display: block;
            margin: 0 auto 15px;
            border: 1px solid #333;
        }

        .secret-modal-content h3 {
            color: #FF00FF;
            margin-top: 0;
        }

        .secret-modal-content p {
            color: #fff;
            font-size: 14px;
        }

        .secret-modal-overlay.active {
            display: block;
            opacity: 1;
        }

        .close-btn {
            background: #00BBFF;
            color: #000;
            border: none;
            padding: 10px 20px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 15px;
            transition: background 0.2s;
        }
        .close-btn:hover {
            background: #0088CC;
        }
        
				/* CSS M·ªöI: Modal kh·ªüi ƒë·ªông */
				.startup-overlay {
				    position: fixed;
				    top: 0;
				    left: 0;
				    width: 100%;
				    height: 100%;
				    background: #000; /* N·ªÅn ƒëen */
				    color: #00BBFF;
				    z-index: 10000; /* ƒê·∫£m b·∫£o n·∫±m tr√™n c√πng */
				    display: flex;
				    flex-direction: column;
				    justify-content: center;
				    align-items: center;
				    text-align: center;
				    opacity: 1;
				    transition: opacity 0.5s ease, visibility 0.5s ease;
				}
				
				.startup-overlay.hidden {
				    opacity: 0;
				    visibility: hidden;
				    pointer-events: none;
				}
				
				.startup-overlay h1 {
				    font-size: 2em;
				    margin-bottom: 20px;
				    text-shadow: 0 0 10px rgba(0, 187, 255, 0.7);
				}
				
				.startup-overlay button {
				    /* T√°i s·ª≠ d·ª•ng style n√∫t c≈© c·ªßa b·∫°n */
				    background: #00BBFF;
				    color: #000;
				    border: none;
				    padding: 12px 25px;
				    font-weight: bold;
				    cursor: pointer;
				    font-size: 1.1em;
				    box-shadow: 0 0 15px rgba(0, 187, 255, 0.5);
				    transition: background 0.2s;
				}


			/* --- HI·ªÜU ·ª®NG H·∫†T B·ª§I M·ªú (DUST PARTICLE EFFECT) - PHI√äN B·∫¢N JS --- */
			.dust-overlay {
			    position: fixed;
			    top: 0;
			    left: 0;
			    width: 100%;
			    height: 100%;
			    z-index: 800000; 
			    pointer-events: none; 
			    overflow: hidden; 
			}
			
/* --- L·ªöP PH·ª¶ B·ª§I N·ªÄN (BACKGROUND DUST) --- */
			.dust-overlay-background {
			    position: fixed;
			    top: 0;
			    left: 0;
			    width: 100%;
			    height: 100%;
			    /* Z-index th·∫•p nh·∫•t, n·∫±m d∆∞·ªõi Header (z-index: 2) v√† Nav (z-index: 10) */
			    z-index: 1; 
			    pointer-events: none; 
			    overflow: hidden; 
			}

			
			
			/* L·ªõp CSS cho t·ª´ng h·∫°t b·ª•i (s·∫Ω ƒë∆∞·ª£c t·∫°o b·∫±ng JS) */
			.dust-particle {
			    position: absolute;
			    width: 8px; /* K√≠ch th∆∞·ªõc h·∫°t */
			    height: 8px;
			    background: #fff; /* M√†u tr·∫Øng m·ªù */
			    border-radius: 50%;
			    opacity: 0; /* M·∫∑c ƒë·ªãnh ·∫©n, s·∫Ω hi·ªán khi JS ch√®n v√†o */
			    filter: blur(4px); /* L√†m m·ªù nh·∫π */
			    animation: floating-dust 180s linear infinite;
			    
			}
			
			@keyframes floating-dust {
			    0% {
			        /* Tr·∫°ng th√°i b·∫Øt ƒë·∫ßu: Bay nh·∫π nh√†ng, thay ƒë·ªïi v·ªã tr√≠ nh·∫π */
			        transform: translate3d(0, 0, 0) rotate(0deg);
			        opacity: 0.2;
			    }
			    
			    25% {
			        /* L·ªõp b·ª•i tr√¥i l√™n v√† sang tr√°i */
			        transform: translate3d(-40px, -20px, 0) rotate(5deg);
			        opacity: 0.4;
			    }
			    
			    50% {
			        /* L·ªõp b·ª•i tr√¥i xu·ªëng v√† sang ph·∫£i */
			        transform: translate3d(40px, 20px, 0) rotate(-5deg);
			        opacity: 0.1;
			    }
			    
			    75% {
			        /* L·ªõp b·ª•i tr√¥i l√™n v√† sang ph·∫£i nh·∫π */
			        transform: translate3d(20px, -80px, 0) rotate(8deg);
			        opacity: 0.3;
			    }
			    
			    100% {
			        /* Quay v·ªÅ v·ªã tr√≠ ban ƒë·∫ßu (0%) */
			        transform: translate3d(0, 0, 0) rotate(0deg);
			        opacity: 0.2;
			    }
			}


			/* --- L·ªõp H·∫°t B·ª•i N·∫±m ·ªû Ph√≠a Tr∆∞·ªõc/Tr√™n (Foreground Layer) --- */
/* --- L·ªõp H·∫°t B·ª•i N·∫±m ·ªû Ph√≠a Tr∆∞·ªõc/Tr√™n (Foreground Layer) --- */
			.dust-particle-foreground {
			    position: absolute;
			    width: 6.4px; 
			    height: 6.4px;
			    background: #fff; 
			    border-radius: 50%;
			    opacity: 0; 
			    filter: blur(2px); 
			    animation: floating-dust-fast 80s linear infinite; 
			    
			}

			
			/* Keyframes m·ªõi cho l·ªõp tr∆∞·ªõc: Bi·∫øn ƒë·ªïi nhanh h∆°n Zero-G */
			@keyframes floating-dust-fast {
			    0% {
			        transform: translate3d(0, 0, 0) rotate(0deg);
			        opacity: 0.1;
			    }
			    
			    25% {
			        transform: translate3d(-18px, -8px, 0) rotate(8deg);
			        opacity: 0.25;
			    }
			    
			    50% {
			        transform: translate3d(20px, 8px, 0) rotate(-10deg);
			        opacity: 0.05;
			    }
			    
			    75% {
			        transform: translate3d(8px, -40px, 0) rotate(4deg);
			        opacity: 0.2;
			    }
			    
			    100% {
			        transform: translate3d(0, 0, 0) rotate(0deg);
			        opacity: 0.1;
			    }
			}








        
        
	</style>
</head>

<body class="mode-home">
  <audio id="background-music" src="assets/theme.mp3" loop></audio>


  <div class="startup-overlay" id="startupOverlay">
      <h1>REVENANTSKR INTERFACE</h1>
      <p>L·∫ßn ƒë·∫ßu ƒë·∫øn Revenantskr nh·ªâ? b·∫°n v·∫´n ch∆∞a c√≥ m·∫∑t trong c∆° s·ªü d·ªØ li·ªáu ƒë√¢u.</p>.</p>
      <button id="startButton">·∫§N ƒê·ªÇ B·∫ÆT ƒê·∫¶U!</button>
  </div>
    
  <div class="dust-overlay-background"></div> 

  <div class="interface-wrapper"> 

 		<header id="mainHeader">
			<div class="logo">REVENANTSKR</div>
		</header>
		
		<nav id="mainNav">
			<div class="tab-slider"></div> 
			<a onclick="switchTab('home')" id="btn-home" class="active-link">HOME</a>
			<a onclick="switchTab('general')" id="btn-general">GENERAL</a>
			<a onclick="switchTab('about')" id="btn-about">ABOUT</a>
			<a onclick="switchTab('id')" id="btn-id">ID ACCESS</a>
		</nav>
	</div>
	
	<div class="content-area">
		<div id="home" class="tab-content active">
			<div class="dual-frame">
				<iframe src="frame1home.html" class="frame-box slide-left"></iframe>
				<iframe src="frame2home.html" class="frame-box slide-right"></iframe>
			</div>
		</div>
		
		<div id="general" class="tab-content">
			<h2 style="color: #FFFFFF"> ---- </h2>
			<h2 style="color: #FF00FF">GENERAL SCREEN</h2>
			<p>ƒêang t·∫£i ƒë·ªì ho·∫° t·ª´ m√°y ch·ªß...</p>
			<p>Vui l√≤ng ch·ªù l·ªánh trong gi√¢y l√°t.</p>
		</div> 
		
		<div id="about" class="tab-content">
			<h2 style="color: #00BBFF">ABOUT SYSTEM</h2>
			<p>Quy·ªÅn truy c·∫≠p b·ªã t·ª´ ch·ªëi!</p>
			<p>ƒê·ªÅ ngh·ªã x√°c minh ho·∫∑c nh·∫≠n ·ªßy quy·ªÅn cao h∆°n.</p>
		</div>
		
		<div id="id" class="tab-content">
			<h2>SECURITY CHECK</h2>
			<p>Nh·∫≠p m√£ ƒë·ªãnh danh ƒë·ªÉ truy c·∫≠p >Core<</p>
			<div style="margin-top: 15px;">
				<input type="text" id="idInput" placeholder="ENTER YOUR ID" onkeydown="if(event.key === 'Enter') checkID()" />
				<button onclick="checkID()">VERIFY</button>
			</div>
		</div>
		
		<script>
			let currentMode = 'home';
			
			function updateSliderPosition(activeButtonId) {
				const slider = document.querySelector('.tab-slider');
				const activeButton = document.getElementById(activeButtonId);
				const nav = document.getElementById('mainNav');

				if (!activeButton || !slider || !nav) return;

				const navRect = nav.getBoundingClientRect();
				const buttonRect = activeButton.getBoundingClientRect();

				slider.style.width = `${buttonRect.width}px`;
				
				const translateX = buttonRect.left - navRect.left; 
				
				slider.style.transform = `translateX(${translateX}px)`;
			}
			
			
			function switchTab(tabName) {
				document.querySelectorAll('nav a').forEach(a => a.classList.remove('active-link'));
				const targetButtonId = `btn-${tabName}`;
				document.getElementById(targetButtonId).classList.add('active-link');
				
				updateSliderPosition(targetButtonId); 
				
				const targetMode = (tabName === 'home') ? 'home' : (tabName === 'general' ? 'general' : 'internal');
				
				let blurRequired = false;
				
				if (currentMode === 'internal' || targetMode === 'internal') {
					blurRequired = true;
				}
				
				if (currentMode === 'home' && targetMode === 'general') {
					blurRequired = false;
				}
				if (currentMode === 'general' && targetMode === 'home') {
					blurRequired = false;
				}
				
				if (currentMode !== targetMode) {
					triggerPhaseShift(targetMode, blurRequired);
				}
				
				document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
				document.getElementById(tabName).classList.add('active');
				}
			
			function triggerPhaseShift(targetMode, blurRequired) {
				const body = document.body;
				const logo = document.querySelector('.logo');
				
				if (blurRequired) {
					body.classList.add('phasing-through');
				}
				
				requestAnimationFrame(() => {
					body.classList.remove('mode-home', 'mode-internal', 'mode-general');
					
					if (targetMode === 'home') {
						body.classList.add('mode-home');
						logo.style.transform = 'scale(1.2)'; 
					} else if (targetMode === 'general') {
						body.classList.add('mode-general');
						logo.style.transform = 'scale(0.5)'; 
					} else {
						body.classList.add('mode-internal');
						logo.style.transform = 'scale(1)'; 
					}
					currentMode = targetMode;
				});
				
				if (blurRequired) {
					setTimeout(() => {
						body.classList.remove('phasing-through');
					}, 180); 
				}
			}
			
			// --- H√ÄM X·ª¨ L√ù MODAL ---
			function showSecretModal(title, message, imageUrl) {
			    const modal = document.getElementById('secretModal');
			    const modalTitle = document.getElementById('modalTitle');
			    const modalMessage = document.getElementById('modalMessage');
			    const modalImage = document.getElementById('modalImage');
			
			    modalTitle.textContent = title;
			    modalMessage.innerHTML = message;
			
			    if (imageUrl) {
			        modalImage.src = imageUrl;
			        modalImage.style.display = 'block';
			    } else {
			        modalImage.style.display = 'none';
			        modalImage.src = '';
			    }
			
			    modal.classList.add('active');
			}
			
			function closeSecretModal() {
			    document.getElementById('secretModal').classList.remove('active');
			    startBackgroundMusic();
			}
			// --- K·∫æT TH√öC H√ÄM X·ª¨ L√ù MODAL ---


			// --- B·∫ÆT ƒê·∫¶U: M√É CHECKID ƒê∆Ø·ª¢C S·ª¨A ƒê·ªîI ---
			function checkID() {
			    const id = document.getElementById("idInput").value.trim().toUpperCase();
			    
			    if (!id) {	
			        alert("C·∫¢NH B√ÅO: Ch∆∞a nh·∫≠p ID.");
			        return;
			    }
			    
			    // ƒê·ªãnh nghƒ©a c√°c lo·∫°i Popup v√† Trang ƒë√≠ch d·ª±a tr√™n ID
			    const routeConfig = {
			        "REVEN-01": { target: "leader.html", popupType: "POPUP_ADMIN" }, 
			        "REVEN-02": { target: "officer.html", popupType: "POPUP_MANAGER" }, 
			        "REVEN-03": { target: "member.html", popupType: "POPUP_MEMBER" }, 
			        "1234": { target: "dev.html", popupType: "POPUP_DEVELOPER" } // ID b√≠ m·∫≠t c·ªßa b·∫°n
			    };
			
			    const config = routeConfig[id];
			
			    if (config) {
			        // 1. L∆ØU TR·ª∞C TI·∫æP LO·∫†I POPUP V√ÄO SESSION STORAGE
			        sessionStorage.setItem('tempPopupType', config.popupType);
			        
			        // 2. Chuy·ªÉn h∆∞·ªõng ƒë·∫øn /forward.html, mang theo ID v√† Trang ƒë√≠ch cu·ªëi c√πng
			        const forwardURL = `forward.html?id=${encodeURIComponent(id)}&target=${encodeURIComponent(config.target)}`;
			        
			        alert(`ACCESS GRANTED: ${id}. ƒêang chuy·ªÉn h∆∞·ªõng qua trang trung gian.`);
			        window.location.href = forwardURL;
			        
			    } else {
			        alert("ACCESS DENIED: ID kh√¥ng t·ªìn t·∫°i.");
			        document.getElementById("idInput").value = "";
			        document.getElementById("idInput").focus();
			    }
			}
			// --- K·∫æT TH√öC: M√É CHECKID ƒê∆Ø·ª¢C S·ª¨A ƒê·ªîI ---


			document.addEventListener('DOMContentLoaded', (event) => {
				updateSliderPosition('btn-home'); 
			});

			window.addEventListener('resize', () => {
				const activeBtn = document.querySelector('nav a.active-link');
				if (activeBtn) {
					updateSliderPosition(activeBtn.id);
				}
			});
			
			
			function applyFrameSlideEffect() {
			    const frames = document.querySelectorAll('#home .frame-box');
			
			    if (frames.length === 2) {
			        frames[0].classList.remove("slide-left", "slide-right");
			        frames[1].classList.remove("slide-left", "slide-right");
			
			        // √âp k√≠ch ho·∫°t l·∫°i animation
			        void frames[0].offsetWidth;
			        void frames[1].offsetWidth;
			
			        frames[0].classList.add("slide-left");
			        frames[1].classList.add("slide-right");
			    }
			}			
			
			
			// --- B·∫ÆT ƒê·∫¶U: M√É X·ª¨ L√ù POPUP B√ç M·∫¨T V√Ä KH·ªûI ƒê·ªòNG H·ªÜ TH·ªêNG ƒê√É S·ª¨A L·ªñI CU·ªêI C√ôNG ---
			
			window.onload = function() {
			    // 1. L·∫•y tham chi·∫øu ƒë·∫øn Modal Kh·ªüi ƒë·ªông v√† N√∫t
			    const startupOverlay = document.getElementById('startupOverlay');
			    const startButton = document.getElementById('startButton');
			
			    // 2. Ki·ªÉm tra sessionStorage cho chuy·ªÉn h∆∞·ªõng b√≠ m·∫≠t
			    const isForwarded = sessionStorage.getItem('isForwarded');
			    const requestedPopup = sessionStorage.getItem('secretPopupKey');
			    const params = new URLSearchParams(window.location.search);
			    const finalTarget = params.get('finalTarget');
			
			    if (isForwarded === 'true' && requestedPopup) {
			        
			        // A. N·∫øu c√≥ chuy·ªÉn h∆∞·ªõng b√≠ m·∫≠t, T·∫ÆT OVERLAY KH·ªûI ƒê·ªòNG ngay l·∫≠p t·ª©c
			        if (startupOverlay) {
			             startupOverlay.classList.add('hidden');
			        }
			        
			        // B. Logic ƒê·ªãnh nghƒ©a v√† Hi·ªÉn th·ªã Modal B√≠ m·∫≠t (Gi·ªØ nguy√™n)
			        let modalTitle = "";
			        let modalMessage = "";
			        let modalImageURL = ""; 
			        
			        switch (requestedPopup) {
			            case "POPUP_ADMIN":
			                modalTitle = "ADMIN CORE ACCESS";
			                modalMessage = "üöÄ **QU·∫¢N TR·ªä VI√äN ƒê·∫∂C BI·ªÜT:** B·∫°n c√≥ quy·ªÅn truy c·∫≠p t·ªëi cao!";
			                modalImageURL = "images.jpg"; 
			                break;
			            case "POPUP_MANAGER":
			                modalTitle = "MANAGER PANEL UNLOCKED";
			                modalMessage = "üíº **QU·∫¢N L√ù:** B·∫£ng ƒëi·ªÅu khi·ªÉn t√†i nguy√™n n·ªôi b·ªô ƒë√£ m·ªü.";
			                modalImageURL = "assets/manager_screen.jpg"; 
			                break;
			            case "POPUP_MEMBER":
			                modalTitle = "MEMBER FEATURE ENABLED";
			                modalMessage = "üë• **TH√ÄNH VI√äN:** ƒê√£ k√≠ch ho·∫°t t√≠nh nƒÉng c·ªông ƒë·ªìng ·∫©n.";
			                modalImageURL = ""; 
			                break;
			            case "POPUP_DEVELOPER":
			                modalTitle = "DEVELOPER MODE INITIATED";
			                modalMessage = `üíª **DEV MODE:** Console ƒë√£ ƒë∆∞·ª£c m·ªü kh√≥a. Target: ${decodeURIComponent(finalTarget || 'N/A')}`;
			                modalImageURL = "assets/dev_terminal.gif"; 
			                break;
			            default:
			                modalTitle = "ACCESS ERROR";
			                modalMessage = "‚ö†Ô∏è **L·ªñI C·∫§U H√åNH:** ƒê√£ chuy·ªÉn h∆∞·ªõng h·ª£p l·ªá nh∆∞ng lo·∫°i popup kh√¥ng x√°c ƒë·ªãnh.";
			                modalImageURL = "";
			        }
			
			        showSecretModal(modalTitle, modalMessage, modalImageURL);
			
			        // X√≥a c√°c kh√≥a b√≠ m·∫≠t
			        sessionStorage.removeItem('isForwarded');
			        sessionStorage.removeItem('secretPopupKey');
			        const newURL = window.location.pathname; 
			        history.replaceState(null, '', newURL); 
			        
			    } else {
			        // C. N·∫øu KH√îNG c√≥ chuy·ªÉn h∆∞·ªõng b√≠ m·∫≠t, g√°n s·ª± ki·ªán cho N√∫t Kh·ªüi ƒë·ªông
			        if (startButton) {
			            // ƒê√¢y l√† ph·∫ßn s·ª≠a l·ªói, ƒë·∫£m b·∫£o l·∫Øng nghe s·ª± ki·ªán CLICK
			            startButton.addEventListener('click', function() {
			                startBackgroundMusic(); 
			                startupOverlay.classList.add('hidden');
			            });
			        }
			    }
			    
			    // 4. C·∫≠p nh·∫≠t giao di·ªán (Gi·ªØ nguy√™n)
			    const activeBtn = document.querySelector('nav a.active-link');
			    if (activeBtn) {
			        updateSliderPosition(activeBtn.id);
			    } else {
			        updateSliderPosition('btn-home');
			    }
			};
			
			// --- K·∫æT TH√öC: M√É X·ª¨ L√ù POPUP B√ç M·∫¨T V√Ä KH·ªûI ƒê·ªòNG H·ªÜ TH·ªêNG ƒê√É S·ª¨A L·ªñI CU·ªêI C√ôNG ---

			// Th√™m ho·∫∑c ƒë·∫£m b·∫£o h√†m n√†y t·ªìn t·∫°i
			function startBackgroundMusic() {
			    const audio = document.getElementById('background-music');
			    if (!audio) return; 
			    
			    // ƒê·∫∑t √¢m l∆∞·ª£ng ·ªü m·ª©c v·ª´a ph·∫£i (v√≠ d·ª•: 40%)
			    audio.volume = 0.4; 
			    
			    // L·ªánh play() n√†y ph·∫£i n·∫±m trong h√†m, ƒë∆∞·ª£c g·ªçi sau khi n√∫t ƒë∆∞·ª£c nh·∫•n
			    audio.play().then(() => {
			        console.log("Nh·∫°c n·ªÅn ƒë√£ ƒë∆∞·ª£c k√≠ch ho·∫°t.");
			    }).catch(error => {
			        console.error("L·ªói: Kh√¥ng th·ªÉ ph√°t nh·∫°c n·ªÅn.", error);
			    });
			}


					// --- B·∫ÆT ƒê·∫¶U: M√É JAVASCRIPT T·∫†O H·∫†T B·ª§I T√ôY CH·ªàNH (H·ªñ TR·ª¢ 2 LAYER) ---
					// Th√™m tham s·ªë 'parentSelector' ƒë·ªÉ ch·ªçn l·ªõp cha
					function generateDustParticles(count, className, parentSelector, durationMin, durationMax, opacityMin, opacityMax) { 
					    const overlay = document.querySelector(parentSelector); // S·ª¨ D·ª§NG SELECTOR ƒê·ªÇ CH·ªåN L·ªöP CHA
					    if (!overlay) return; // Tho√°t n·∫øu kh√¥ng t√¨m th·∫•y l·ªõp cha
					    
					    const screenWidth = window.innerWidth;
					    const screenHeight = window.innerHeight;
					    
					    for (let i = 0; i < count; i++) {
					        const particle = document.createElement('div');
					        particle.className = className;
					        
					        const startX = Math.random() * screenWidth;
					        const startY = Math.random() * screenHeight;
					        
					        particle.style.left = `${startX}px`;
					        particle.style.top = `${startY}px`;
					        
					        const delay = Math.random() * 60; 
					        particle.style.animationDelay = `-${delay}s`;
					        
					        const duration = durationMin + Math.random() * (durationMax - durationMin);
					        particle.style.animationDuration = `${duration}s`;
					        
					        const initialOpacity = opacityMin + Math.random() * (opacityMax - opacityMin);
					        particle.style.opacity = initialOpacity;
					        
					        overlay.appendChild(particle);
					    }
					}
					// --- K·∫æT TH√öC: M√É JAVASCRIPT T·∫†O H·∫†T B·ª§I T√ôY CH·ªàNH ---
					// G·ªçi h√†m ƒë·ªÉ t·∫°o c·∫£ hai l·ªõp h·∫°t b·ª•i khi trang ƒë∆∞·ª£c t·∫£i
					document.addEventListener('DOMContentLoaded', () => {
					    // 1. L·ªõp N·ªÅn (Background Layer) - Z-index th·∫•p
					    generateDustParticles(
					        18, 
					        'dust-particle', 
					        '.dust-overlay-background', // CH√àN V√ÄO L·ªöP N·ªÄN (Z-INDEX: 1)
					        18, 
					        180, 
					        0.1, 
					        0.5
					    );
					    
					    // 2. L·ªõp Ph·ªß Ngo√†i (Foreground Layer) - Z-index cao
					    generateDustParticles(
					        8, 
					        'dust-particle-foreground', 
					        '.dust-overlay', // CH√àN V√ÄO L·ªöP PH·ª¶ NGO√ÄI (Z-INDEX: 800000)
					        8, 
					        18, 
					        0.05, 
					        0.3
					    );
					});


			
		</script>
		
    </div>
    
    <div class="secret-modal-overlay" id="secretModal">
        <div class="secret-modal-content">
            <h3 id="modalTitle">SECRET ACCESS GRANTED</h3>
            <img id="modalImage" src="" alt="Secret Image" style="display: none;"> 
            <p id="modalMessage"></p> 
            <button class="close-btn" onclick="closeSecretModal()">CLOSE [SYSTEM ONLINE]</button>
        </div>
    </div>
    
    
    	<div class="dust-overlay"></div>
    </body>

</html>
